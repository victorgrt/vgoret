<html>
<head>
  <head>
    <link rel="icon" href="./img/logo-src/lettre-v.png" type="image/png"> 
    <title>vgoret</title>
    <link rel="stylesheet" type="text/css" href="./css/contact.css">
  </head>
<body>
  <header>
    <nav>
      <ul>
        <li><a href="vgoret.html">vgoret</a></li>
        <button id="bright-toggle">
          <img src="./img/logo-src/soleil.png" id="img" alt="Logo">
  </button>
  <script>
    const brightToggle = document.getElementById('bright-toggle');
    var bouton = document.getElementById('bright-toogle');
    var image = document.getElementById('img');
    var imageActuelle = "./img/logo-src/soleil.png";
    brightToggle.addEventListener('click', () => {
      document.body.classList.toggle('bright');
      if (imageActuelle === "./img/logo-src/soleil.png") {
        image.src = "./img/logo-src/lune.png";
        imageActuelle = "./img/logo-src/lune.png";
      } else {
        image.src = "./img/logo-src/soleil.png";
        imageActuelle = "./img/logo-src/soleil.png";
      }
      });
      </script>
      </ul>
    </nav>
  </div>
</header>
<div id="repo-list">
	<img src="./img/vgoret.jpg" class="photo">
	<div class="gauche">
	  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	  <script>
$.ajax({
  url: 'https://api.github.com/user/repos',
  type: 'GET',
  headers: {
    'Authorization': 'Token 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'
  },
  success: function(data) {
    $.each(data, function(index, repo) {
        var date = new Date(repo.created_at);
        var formattedDate = date.toLocaleDateString("fr-FR", { day: "numeric", month: "numeric", year: "numeric" });
		  // Récupération du nombre de commits et de la date de création du dépôt
		  $.ajax({
			  url: 'https://api.github.com/repos/' + repo.owner.login + '/' + repo.name + '/commits',
			  type: 'GET',
			  headers: {
				'Authorization': 'Token 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'
			  },
			  success: function(commits) {
                var lastCommit = commits[0];
                var lastCommitDate = new Date(lastCommit.commit.committer.date);
                var lastCommitFormattedDate = lastCommitDate.toLocaleDateString("fr-FR", { day: "numeric", month: "numeric", year: "numeric" });
				$('.gauche').append('<strong>' + repo.name + '</strong>' + ': ' + commits.length + ' commits, créé le ' + formattedDate + ', dernier commit le ' + lastCommitFormattedDate + '<br><br>');
			  }
			});
		  });
	  }
});

	  
	  </script>
	</div>
  </div>
  <main>
    <section>
      <h2>Formulaire de contact</h2>
      <form method="post" action="sendmail.php">
        <label for="nom">Nom :</label><br>
        <input type="text" id="nom" name="nom"><br>
        <label for="email">Adresse email :</label><br>
        <input type="email" id="email" name="email"><br>
        <label for="objet">Objet :</label><br>
        <input type="text" id="objet" name="objet"><br>
        <label for="message">Message :</label><br>
        <textarea id="message" name="message" rows="10" cols="30"></textarea><br>
        <input type="submit" value="Envoyer">
      </form> 
    </section>
    <section class="infos">
      <h2>Informations de contact</h2>
      <p>Vous pouvez également nous contacter via les informations suivantes :</p>
      <ul style="list-style: none; color:coral;">
        <li><a href="https://profile.intra.42.fr/users/vgoret" class="logo_contact"><img src="./img/logo-src/42fete.jpeg" alt="Logo">vgoret</a></li>
        <li><a href="https://github.com/victorgrt" class="logo_contact"><img src="./img/logo-src/github.png" alt="Logo">Github</a></li>
        <li><a href="https://www.linkedin.com/in/vgoret/" class="logo_contact"><img src="./img/logo-src/linkedin.png" alt="Logo">Linkedin</a></li>
      </ul>
    </section>
  </main>
  <footer>
    <div class="container">
      <div id="footer-left">
        <ul>
          <li><a href="vgoret.html">./vgoret</a></li>
          <li><a href="libft.html">./libft</a></li>
          <li><a href="ft_printf.html">./ft_printf</a></li>
          <li><a href="get_next_line.html">./get_next_line</a></li>
          <li><a href="born2beroot.html">./born2beroot</a></li>
          <li><a href="makefile.html">./Makefile</a></li>
          <li><a href="robots.html">./robots.html</a></li>
          <li><a href="contact.html">./Contact</a></li>
       </ul>
    </div>
    </footer>
</body>
</html>

